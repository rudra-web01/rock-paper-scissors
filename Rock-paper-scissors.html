<!DOCTYPE html>
<html>
<head>
    <title>Rock Paper Scissors</title>
    <style>
        body{
            background-color: black;
            color: white;
            font-family: Arial, Helvetica, sans-serif;
        }
        .r-p-s{
            font-size: 30px;
            font-weight: bold;

        }
        .move-icon{
            height: 50px;



        }
        .move-btn{
            background-color: transparent;
            border: 3px solid white;
            border-radius: 50%;
            padding: 15px;
            margin: 5px;
            cursor: pointer;
        }
        .result{
            font-size: 25px;
            font-weight: bold;
            margin-top: 30px;
        }
        .reset-btn{
            height: 30px;
            width: 100px;
            border: none;
        }
    </style>
</head>
<body>

<p class="r-p-s">Rock Paper Scissors</p>

<button onclick="playGame('rock') " class="move-btn"><img src="rock-emoji.png" class="move-icon" alt=""></button>
<button onclick="playGame('paper')" class="move-btn
"><img src="paper-emoji.png" class="move-icon" alt=""></button>
<button onclick="playGame('scissors')" class="move-btn"><img src="scissors-emoji.png" class="move-icon" alt=""></button>

<p class="js-res result"></p>
<p class="js-move"></p>
<p class="js-score"></p>
<button class="reset-btn" onclick="
score.wins=0;
score.Ties=0;
score.loses=0;
localStorage.removeItem('score');
updateScore();
">Reset</button>

<script>

    let score=JSON.parse(localStorage.getItem('score')) || {
        wins: 0,
        loses: 0,
        Ties:0
    };
    updateScore();
    /*
    if(!score){

        score= {
            wins: 0,
            loses: 0,
            Ties:0
        };
    }
    */
    
    function playGame(PlayerMove) {

    const CompMove = pickCompMove();
    let res = '';

    if (PlayerMove === 'rock') {
        if (CompMove === 'rock') res = 'Tie';
        else if (CompMove === 'paper') res = 'You Lose';
        else res = 'You Win';
    }

    else if (PlayerMove === 'paper') {
        if (CompMove === 'rock') res = 'You Win';
        else if (CompMove === 'paper') res = 'Tie';
        else res = 'You Lose';
    }

    else if (PlayerMove === 'scissors') {
        if (CompMove === 'rock') res = 'You Lose';
        else if (CompMove === 'paper') res = 'You Win';
        else res = 'Tie';
    }

    if (res === 'You Win') {
        score.wins++;
    } else if (res === 'You Lose') {
        score.loses++;
    } else if(res==='Tie'){
        score.Ties++;

    }

    localStorage.setItem('score',JSON.stringify(score));

    updateScore();

    document.querySelector('.js-res').innerHTML=res;

    document.querySelector('.js-move').innerHTML=`Your move:- 
<img src= "${PlayerMove}-emoji.png" class= "move-icon">, 
computer move:- <img src= "${CompMove}-emoji.png" class= "move-icon">`;   
}

function updateScore(){
    document.querySelector('.js-score').innerHTML= `Wins: ${score.wins}, Losses: ${score.loses}, Ties: ${score.Ties}`;
}

function pickCompMove() {
    const randomNum = Math.random();
    let CompMove = '';

    if (randomNum < 1/3) CompMove = 'rock';
    else if (randomNum < 2/3) CompMove = 'paper';
    else CompMove = 'scissors';

    return CompMove;
}

</script>

</body>
</html>
